On a ici trois Ã©lÃ©ments Ã  articuler :

Ta table produits a un champ stock_initial.

Ta table inventaire enregistre les piÃ¨ces inventoriÃ©es. Quand id_achats_details=0, cela signifie que la piÃ¨ce inventoriÃ©e provient du stock initial.

Ton tableau dans liste_par_produit_non_inventoree.php affiche actuellement les achats + inventaire, mais ne tient pas compte du stock initial.

ğŸ“ Ce quâ€™on veut

Afficher dans ton tableau une ligne supplÃ©mentaire correspondant au stock initial.

Calculer pour cette ligne la quantitÃ© inventoriÃ©e (dans inventaire) oÃ¹ id_achats_details=0 et id_produit est celui du produit en cours.

Calculer ensuite la quantitÃ© restante = stock_initial - quantitÃ© inventoriÃ©e.